[
  {
    "id":"18500989127515781"
   ,"Identification":{
      "Name":"Task Board"
    }
   ,"Source":{
      "PL\/SQL Code":"FUNCTION render\n(\n\tp_dynamic_action IN APEX_PLUGIN.T_DYNAMIC_ACTION,\n\tp_plugin         IN APEX_PLUGIN.T_PLUGIN\n)\tRETURN APEX_PLUGIN.T_DYNAMIC_ACTION_RENDER_RESULT \nIS\n    l_result      \t\t\t\tAPEX_PLUGIN.T_DYNAMIC_ACTION_RENDER_RESULT;\n    l_ajax_id                   VARCHAR2(4000) := apex_plugin.get_ajax_identifier;\n    l_update_query              p_dynamic_action.attribute_01%type := p_dynamic_action.attribute_01;\n    l_seq                       p_dynamic_action.attribute_02%type := p_dynamic_action.attribute_02;\n    l_seq_query                 p_dynamic_action.attribute_03%type := p_dynamic_action.attribute_03;\n    l_css_classes               p_dynamic_action.attribute_04%type := p_dynamic_action.attribute_04;\nBEGIN\n    \n    apex_plugin_util.debug_dynamic_action\n\t(\n\t\tp_plugin         =\u003E p_plugin,\n\t\tp_dynamic_action =\u003E p_dynamic_action\n\t);\n    \n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027dragndrop.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027lodash.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027sortable.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n    \n    apex_css.add_file \n      ( p_name           =\u003E \u0027style.css\u0027\n      , p_directory      =\u003E p_plugin.file_prefix\n      , p_skip_extension =\u003E true\n      ); \n\n    -- all done, return l_result now containing the javascript function\n    L_RESULT.JAVASCRIPT_FUNCTION := \u0027function(){dragNDrop.init(this,\u0027||l_css_classes||\u0027);}\u0027;\n    L_RESULT.ATTRIBUTE_01 := l_update_query;\n    L_RESULT.ATTRIBUTE_02 := l_ajax_id;\n    L_RESULT.ATTRIBUTE_03 := l_seq;\n    L_RESULT.ATTRIBUTE_04 := l_seq_query;\n    return l_result;\nend render;\n\nfunction ajax\n  ( p_dynamic_action in apex_plugin.t_dynamic_action\n  , p_plugin         in apex_plugin.t_plugin\n  )\nreturn apex_plugin.t_dynamic_action_ajax_result\nas\n    l_result            apex_plugin.t_dynamic_action_ajax_result;\n    l_update_query      p_dynamic_action.attribute_01%type := p_dynamic_action.attribute_01;\n    l_seq_query         p_dynamic_action.attribute_03%type := p_dynamic_action.attribute_03;\n    l_sql_parameters    apex_exec.t_parameters;\n    l_out_value         VARCHAR2(32767);\nbegin\n    IF apex_application.g_x02 = \u0027SEQ\u0027\n    THEN\n        apex_exec.add_parameter( l_sql_parameters, \u0027DATA\u0027,  apex_application.g_x01 );\n        apex_exec.execute_plsql\n          ( p_plsql_code      =\u003E q\u0027#DECLARE\n                                        TYPE rec_type IS RECORD (\n                                            id  NUMBER,\n                                            seq NUMBER);\n                                        TYPE tbl_type IS TABLE OF rec_type\n                                        INDEX BY PLS_INTEGER;\n                                        lt_data tbl_type;\n                                    BEGIN\n                                        SELECT id,\n                                               seq\n                                        BULK COLLECT INTO lt_data\n                                        FROM JSON_TABLE (\n                                                :DATA,\n                                                \u0027$[*]\u0027 COLUMNS (\n                                                        id path \u0027$.id\u0027,\n                                                        seq path \u0027$.seq\u0027));\n                                        FORALL i IN 1 .. lt_data.COUNT\n                                        #\u0027||replace(replace(l_seq_query,\u0027:SEQ\u0027,\u0027lt_data(i).seq\u0027),\u0027:ID\u0027,\u0027lt_data(i).id\u0027)||q\u0027#\n                                        COMMIT;\n                                    END;#\u0027\n          , p_auto_bind_items =\u003E true\n          , p_sql_parameters  =\u003E l_sql_parameters\n          );\n    ELSE\n        apex_exec.add_parameter( l_sql_parameters, \u0027ID\u0027,  apex_application.g_x01 );\n        apex_exec.execute_plsql\n          ( p_plsql_code      =\u003E l_update_query\n          , p_auto_bind_items =\u003E true\n          , p_sql_parameters  =\u003E l_sql_parameters\n          );\n    END IF;\n      \n    -- prepare a json object as response for the client\n    apex_json.initialize_output;\n    apex_json.open_object;\n    apex_json.write(\u0027status\u0027, \u0027success\u0027);\n    apex_json.close_object;\n\n    return l_result;\nend ajax;"
    }
  }
 ,{
    "id":"36835008256405323"
   ,"Identification":{
      "Name":"DragNDrop"
    }
   ,"Source":{
      "PL\/SQL Code":"FUNCTION render\n(\n\tp_dynamic_action IN APEX_PLUGIN.T_DYNAMIC_ACTION,\n\tp_plugin         IN APEX_PLUGIN.T_PLUGIN\n)\tRETURN APEX_PLUGIN.T_DYNAMIC_ACTION_RENDER_RESULT \nIS\n    l_result      \t\t\t\tAPEX_PLUGIN.T_DYNAMIC_ACTION_RENDER_RESULT;\n    l_ajax_id                   VARCHAR2(4000) := apex_plugin.get_ajax_identifier;\n    l_update_query              p_dynamic_action.attribute_01%type := p_dynamic_action.attribute_01;\n    l_seq                       p_dynamic_action.attribute_03%type := p_dynamic_action.attribute_02;\n    l_seq_query                 p_dynamic_action.attribute_04%type := p_dynamic_action.attribute_03;\nBEGIN\n    \n    apex_plugin_util.debug_dynamic_action\n\t(\n\t\tp_plugin         =\u003E p_plugin,\n\t\tp_dynamic_action =\u003E p_dynamic_action\n\t);\n    \n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027dragndrop.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027lodash.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027sortable.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n    \n    apex_css.add_file \n      ( p_name           =\u003E \u0027style.css\u0027\n      , p_directory      =\u003E p_plugin.file_prefix\n      , p_skip_extension =\u003E true\n      ); \n\n    -- all done, return l_result now containing the javascript function\n    L_RESULT.JAVASCRIPT_FUNCTION := \u0027dragNDrop.init\u0027;\n    L_RESULT.ATTRIBUTE_01 := l_update_query;\n    L_RESULT.ATTRIBUTE_02 := l_ajax_id;\n    L_RESULT.ATTRIBUTE_03 := l_seq;\n    L_RESULT.ATTRIBUTE_04 := l_seq_query;\n    return l_result;\nend render;\n\nfunction ajax\n  ( p_dynamic_action in apex_plugin.t_dynamic_action\n  , p_plugin         in apex_plugin.t_plugin\n  )\nreturn apex_plugin.t_dynamic_action_ajax_result\nas\n    l_result            apex_plugin.t_dynamic_action_ajax_result;\n    l_update_query      p_dynamic_action.attribute_01%type := p_dynamic_action.attribute_01;\n    l_seq_query         p_dynamic_action.attribute_03%type := p_dynamic_action.attribute_03;\n    l_sql_parameters    apex_exec.t_parameters;\n    l_out_value         VARCHAR2(32767);\nbegin\n    IF apex_application.g_x02 = \u0027SEQ\u0027\n    THEN\n        apex_exec.add_parameter( l_sql_parameters, \u0027DATA\u0027,  apex_application.g_x01 );\n        apex_exec.execute_plsql\n          ( p_plsql_code      =\u003E q\u0027#DECLARE\n                                        TYPE rec_type IS RECORD (\n                                            id  NUMBER,\n                                            seq NUMBER);\n                                        TYPE tbl_type IS TABLE OF rec_type\n                                        INDEX BY PLS_INTEGER;\n                                        lt_data tbl_type;\n                                    BEGIN\n                                        SELECT id,\n                                               seq\n                                        BULK COLLECT INTO lt_data\n                                        FROM JSON_TABLE (\n                                                :DATA,\n                                                \u0027$[*]\u0027 COLUMNS (\n                                                        id path \u0027$.id\u0027,\n                                                        seq path \u0027$.seq\u0027));\n                                        FORALL i IN 1 .. lt_data.COUNT\n                                        #\u0027||replace(replace(l_seq_query,\u0027:SEQ\u0027,\u0027lt_data(i).seq\u0027),\u0027:ID\u0027,\u0027lt_data(i).id\u0027)||q\u0027#\n                                        COMMIT;\n                                    END;#\u0027\n          , p_auto_bind_items =\u003E true\n          , p_sql_parameters  =\u003E l_sql_parameters\n          );\n    ELSE\n        apex_exec.add_parameter( l_sql_parameters, \u0027ID\u0027,  apex_application.g_x01 );\n        apex_exec.execute_plsql\n          ( p_plsql_code      =\u003E l_update_query\n          , p_auto_bind_items =\u003E true\n          , p_sql_parameters  =\u003E l_sql_parameters\n          );\n    END IF;\n      \n    -- prepare a json object as response for the client\n    apex_json.initialize_output;\n    apex_json.open_object;\n    apex_json.write(\u0027status\u0027, \u0027success\u0027);\n    apex_json.close_object;\n\n    return l_result;\nend ajax;"
    }
  }
 ,{
    "id":"39359880216153877"
   ,"Identification":{
      "Name":"Board"
    }
   ,"Source":{
      "PL\/SQL Code":"FUNCTION render\n(\n\tp_dynamic_action IN APEX_PLUGIN.T_DYNAMIC_ACTION,\n\tp_plugin         IN APEX_PLUGIN.T_PLUGIN\n)\tRETURN APEX_PLUGIN.T_DYNAMIC_ACTION_RENDER_RESULT \nIS\n    l_result      \t\t\t\tAPEX_PLUGIN.T_DYNAMIC_ACTION_RENDER_RESULT;\n    l_ajax_id                   VARCHAR2(4000) := apex_plugin.get_ajax_identifier;\n    l_init                      p_dynamic_action.attribute_01%type := NVL(p_dynamic_action.attribute_01,\u0027undefined\u0027);\nBEGIN\n    \n    apex_plugin_util.debug_dynamic_action\n\t(\n\t\tp_plugin         =\u003E p_plugin,\n\t\tp_dynamic_action =\u003E p_dynamic_action\n\t);\n    \n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027board.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027lodash.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    apex_javascript.add_library\n\t(\n\t\tp_name                  =\u003E \u0027sortable.min\u0027,\n\t\tp_directory             =\u003E p_plugin.file_prefix,\n\t\tp_check_to_add_minified =\u003E false\n\t);\n\n    -- all done, return l_result now containing the javascript function\n    -- L_RESULT.JAVASCRIPT_FUNCTION := \u0027function(){\n    --     \u0027||l_init||\u0027\n    --     board.init(this,\u0027||l_sortable||\u0027,\u0027||l_events||\u0027);}\u0027;\n    -- L_RESULT.JAVASCRIPT_FUNCTION := \u0027function(){\n    --     const board = new boardClass(this,\u0027||l_events||\u0027);\n    --     board.sort(\u0027||l_sortable||\u0027);\n    --     }\u0027;\n    L_RESULT.JAVASCRIPT_FUNCTION := \u0027function(){\n        \u0027||l_init||\u0027\n        }\u0027;\n    L_RESULT.ATTRIBUTE_01 := l_ajax_id;\n    return l_result;\nend render;\n\nfunction ajax\n  ( p_dynamic_action in apex_plugin.t_dynamic_action\n  , p_plugin         in apex_plugin.t_plugin\n  )\nreturn apex_plugin.t_dynamic_action_ajax_result\nas\n    l_result            apex_plugin.t_dynamic_action_ajax_result;\n    l_sql_parameters    apex_exec.t_parameters;\n    l_out_value         VARCHAR2(32767);\nbegin\n    IF apex_application.g_clob_01 IS NOT NULL\n    THEN\n        apex_exec.add_parameter( l_sql_parameters, \u0027DATA\u0027, apex_application.g_clob_01 );\n    END IF;\n    apex_exec.execute_plsql\n      ( p_plsql_code      =\u003E apex_application.g_x01\n      , p_auto_bind_items =\u003E true\n      , p_sql_parameters  =\u003E l_sql_parameters\n      );\n      \n    -- prepare a json object as response for the client\n    apex_json.initialize_output;\n    apex_json.open_object;\n    apex_json.write(\u0027status\u0027, \u0027SUCCESS\u0027);\n    apex_json.close_object;\n\n    return l_result;\nend ajax;"
    }
  }
]
